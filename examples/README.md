# Examples

For code testing purposes, we are providing trajectories extracted extracted from JSON arrays of two subsets of the data reported in Ly et al.: untreated MEFs and MEFs after treatment with MBCD (see Ly et al. for details). Both data sets are from the same experimental session. The original JSON files are too large to be distributed with this repository. They are available [here](url). If you'd like to reproduce the extraction step, download them to this directory and proceed as indicted below.

The trajectory RDS files under `untreated/` and `mbcd/` were generated by running the following as a shell script from from `get_trajectories`:
```bat
for i in untreated mbcd
do
  Rscript getTrajs.R 200  ../../260_jsons/260_${i}/260_${i}Json  ../../260_jsons/260_${i}  ../examples/$i json > ../examples/${i}/out.traj.$i 2>&1 &
done
```
check the comments in `getTrajs.R` for details on the execution line.

The resulting RDS trajectory files are avaliable in this repository and can be used to compute the geometric features as indicated below.

The feature calculations under `untreated/` and `mbcd/` were performed by running the following as a shell script from `compute_features`: 
```bat
for i in untreated mbcd
do
        Rscript getsRg.R $i 200  ../../260_jsons/260_${i}/260_${i}Json ../examples/$i ../examples/$i > ../examples/${i}/out.srg.$i 2>&1 &
        Rscript getTAMSD.R 20 $i  200  ../../260_jsons/260_${i}/260_${i}Json ../examples/$i ../examples/$i > ../examples/${i}/out.tamsd.$i 2>&1 &
        Rscript getStepsNormalized.R  $i 200  ../../260_jsons/260_${i}/260_${i}Json ../examples/$i ../examples/$i > ../examples/${i}/out.stepnorm.$i 2>&1 &
        Rscript getStepLengthsDelta.R  200 ../../260_jsons/260_${i}/260_${i}Json  1 ../examples/$i ../examples/$i > ../examples/${i}/out.steplen.$i 2>&1 &
done
```
check the comments in each script for details on the execution line.
